<!DOCTYPE html>
<html>
<head>
    

    

    
<!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- Baidu Tongji -->
<script>var _hmt = _hmt || []</script>
<script async src="//hm.baidu.com/hm.js?15d162fc8e4dd54f3980fc240cbb6b68"></script>
<!-- End Baidu Tongji -->




    <meta charset="utf-8">
    
    
    
    <title>一文弄懂区块链 - 以比特币为例 | 尼孟尼克 Blog | Stay Hungry, Stay Foolish</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="BTcoin,BlockChain">
    <meta name="description" content="【阅读时间】25min - 35min【内容简介】此文潜在面向群体是对区块链或比特币的运行原理完全不了解的人。所以会从用户需求的角度出发，一步一步发明区块链，在此之后的内容会涉及一些思考和技术上的原理延伸，可以选择性阅读 加密货币在一步一步发明发明比特币之前，有一些基本直观的认知需要阐明。 我们常说的比特币，是加密货币（Cryptocurrency）的一种，而加密货币实现去中心化的最关键的技术是区">
<meta name="keywords" content="BTcoin,BlockChain">
<meta property="og:type" content="article">
<meta property="og:title" content="一文弄懂区块链 - 以比特币为例">
<meta property="og:url" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/index.html">
<meta property="og:site_name" content="尼孟尼克 Blog">
<meta property="og:description" content="【阅读时间】25min - 35min【内容简介】此文潜在面向群体是对区块链或比特币的运行原理完全不了解的人。所以会从用户需求的角度出发，一步一步发明区块链，在此之后的内容会涉及一些思考和技术上的原理延伸，可以选择性阅读 加密货币在一步一步发明发明比特币之前，有一些基本直观的认知需要阐明。 我们常说的比特币，是加密货币（Cryptocurrency）的一种，而加密货币实现去中心化的最关键的技术是区">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/30zero.gi">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/AllFunctionNode.svg">
<meta property="og:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
<meta property="og:updated_time" content="2017-09-24T21:56:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一文弄懂区块链 - 以比特币为例">
<meta name="twitter:description" content="【阅读时间】25min - 35min【内容简介】此文潜在面向群体是对区块链或比特币的运行原理完全不了解的人。所以会从用户需求的角度出发，一步一步发明区块链，在此之后的内容会涉及一些思考和技术上的原理延伸，可以选择性阅读 加密货币在一步一步发明发明比特币之前，有一些基本直观的认知需要阐明。 我们常说的比特币，是加密货币（Cryptocurrency）的一种，而加密货币实现去中心化的最关键的技术是区">
<meta name="twitter:image" content="https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链%20-%20以比特币为例/一文弄懂区块链">
    
        <link rel="alternate" type="application/atom+xml" title="尼孟尼克 Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.png">
    <link rel="stylesheet" href="/css/style.css?v=1.6.7">
    <script>window.lazyScripts=[]</script>

        <!-- custom head --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
</head>

<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Nimonic</h5>
          <a href="mailto:297106286@qq.com" title="297106286@qq.com" class="mail">297106286@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/CharlesLiuyx" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://weibo.com/u/6064451001?is_all=1" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">一文弄懂区块链 - 以比特币为例</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">一文弄懂区块链 - 以比特币为例</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-07-26T07:11:31.000Z" itemprop="datePublished" class="page-time">
  2017-07-26
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/BlockChain/">BlockChain</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#加密货币"><span class="post-toc-number">1.</span> <span class="post-toc-text">加密货币</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#一步一步发明比特币"><span class="post-toc-number">2.</span> <span class="post-toc-text">一步一步发明比特币</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#第一个用户需求-账本和电子签名的由来"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">第一个用户需求 - 账本和电子签名的由来</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#产生的问题1：身份问题"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">产生的问题1：身份问题</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#产生的问题2：欠债跑路问题"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">产生的问题2：欠债跑路问题</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#一个大家都遵守的协议"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">一个大家都遵守的协议</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#第二个用户需求：账本放在哪里？"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">第二个用户需求：账本放在哪里？</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#核心需求：去中心化"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">核心需求：去中心化</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#如何实现分布记账（去中心化）"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">如何实现分布记账（去中心化）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#问题核心"><span class="post-toc-number">2.2.2.1.</span> <span class="post-toc-text">问题核心</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#☆解决方案"><span class="post-toc-number">2.2.2.2.</span> <span class="post-toc-text">☆解决方案</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1、密码学：哈希函数"><span class="post-toc-number">2.2.2.2.1.</span> <span class="post-toc-text">1、密码学：哈希函数</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2、区块链-信用的共识的基石"><span class="post-toc-number">2.2.2.2.2.</span> <span class="post-toc-text">2、区块链 - 信用的共识的基石</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3、51-算力攻击问题"><span class="post-toc-number">2.2.2.2.3.</span> <span class="post-toc-text">3、51%算力攻击问题</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#总结-系统可行性分析"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">总结 - 系统可行性分析</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#发明过程中的关键点"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">发明过程中的关键点</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#比特币技术"><span class="post-toc-number">3.</span> <span class="post-toc-text">比特币技术</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#比特币网络节点的构成"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">比特币网络节点的构成</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#节点类型与分工"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">节点类型与分工</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-一文弄懂区块链 - 以比特币为例"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">一文弄懂区块链 - 以比特币为例</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-07-26 00:11:31" datetime="2017-07-26T07:11:31.000Z"  itemprop="datePublished">2017-07-26</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/BlockChain/">BlockChain</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>【阅读时间】25min - 35min<br>【内容简介】此文潜在面向群体是对区块链或比特币的运行原理完全不了解的人。所以会从<strong>用户需求</strong>的角度出发，<strong>一步一步发明区块链</strong>，在此之后的内容会涉及一些思考和技术上的原理延伸，可以选择性阅读</p>
<h1 id="加密货币"><a href="#加密货币" class="headerlink" title="加密货币"></a>加密货币</h1><p>在一步一步发明发明比特币之前，有一些基本直观的认知需要阐明。</p>
<p>我们常说的比特币，是<strong>加密货币（Cryptocurrency）</strong>的一种，而加密货币<strong>实现去中心化</strong>的最关键的技术是<strong>区块链</strong></p>
<p>有些地方可能把加密货币又称为数字货币（或称电子货币），但实际上，加密货币是数字货币的子集，同为子集的还有<strong>虚拟货币</strong>（如Q币），<strong>加密货币</strong>的称谓要更加专业</p>
<p>加密货币一定具有下列三个特点</p>
<ul>
<li><strong>去中心的清算</strong></li>
<li><strong>分布式的记账</strong></li>
<li><strong>离散化的支付</strong></li>
</ul>
<p><strong>为了实现这些特点</strong>，需要使用到<strong>区块链技术</strong>。这里的区块链技术是一个很广义的范畴，它包含了密码学，算法等很多不同的内容，其中最精彩的点子，可算是<strong>工作量证明 = 共识信用</strong>了</p>
<h1 id="一步一步发明比特币"><a href="#一步一步发明比特币" class="headerlink" title="一步一步发明比特币"></a>一步一步发明比特币</h1><h2 id="第一个用户需求-账本和电子签名的由来"><a href="#第一个用户需求-账本和电子签名的由来" class="headerlink" title="第一个用户需求 - 账本和电子签名的由来"></a>第一个用户需求 - 账本和电子签名的由来</h2><blockquote>
<p>第一个用户需求描述了<strong>中心化清算系统</strong>几个关键内容的由来，只对区块链感兴趣的读者可以跳过</p>
</blockquote>
<p>经济体的蓬勃发展离不开<strong>交易</strong>。在交易过程中，人们早已发现使用一般等价物（如金银）十分麻烦，发明了纸币（北宋时代四川地区的纸币交子的<strong>清算体系</strong>），而最终，<strong>携带现金也很麻烦</strong></p>
<p>这是第一个基本用户需求：<strong>摆脱现金进行交易带来的不方便</strong></p>
<p><strong>【解决办法】</strong>几个用户使用<strong>公共账本</strong>记录转账记录，<strong>月底结算</strong>，并且<strong>账本是公开的</strong>，每个人都可以修改，也就是说可以在上面添加行，如<code>小明转账给小红10块钱</code></p>
<h3 id="产生的问题1：身份问题"><a href="#产生的问题1：身份问题" class="headerlink" title="产生的问题1：身份问题"></a>产生的问题1：身份问题</h3><p>在这个账本中我们无法确认条目<code>小明</code>和<code>小红</code>是否真实，可能出现欺诈现象</p>
<p><strong>【解决办法】</strong>使用电子签名，即公钥 - 私钥对</p>
<p>过程解释为，<code>小明</code>使用自己的私钥（一个字符串）通过<strong>一连串的计算</strong>（加密函数）产生一个公钥（一串字符串），作为签名（一个字符串），验证过程是对<strong>签名和公钥</strong>进行<strong>一连串计算</strong>（验证函数）进行验证（输出为真/假，真为签名有效，证明这个公钥的确能证明这是<code>小明</code>的）</p>
<p>直观结果是，我们可以利用<strong>密码学的手段</strong>，保证<code>小明</code>的<strong>身份能被100%确认真实</strong></p>
<p>但是这个解决方案有一个小漏洞：可以复制同一行信息来伪造交易记录，解决的办法是添加一个<strong>这笔交易独有的信息（比如时间戳）</strong></p>
<h3 id="产生的问题2：欠债跑路问题"><a href="#产生的问题2：欠债跑路问题" class="headerlink" title="产生的问题2：欠债跑路问题"></a>产生的问题2：欠债跑路问题</h3><p>如果<code>小明</code>在此时账户上已经没有足够的余额进行支付，就会出现超支问题</p>
<p><strong>【解决办法】</strong>添加余额记录，此时就不可避免的需要一个<strong>中间担保人（国家？信誉机构？银行？）</strong>为<code>小明</code>进行余额担保</p>
<h3 id="一个大家都遵守的协议"><a href="#一个大家都遵守的协议" class="headerlink" title="一个大家都遵守的协议"></a>一个大家都遵守的协议</h3><p>此时，现代金融体系的框架基本建立完毕，协议内容是</p>
<ul>
<li>任何人都可以在<strong>账本上添加新行</strong></li>
<li>固定时间间隔时用<strong>真金白银进行清算</strong></li>
<li>只有有<strong>签名的交易</strong>是有效的</li>
<li>中间担保的人<strong>保证不可超支</strong></li>
</ul>
<p>此时发现一个很有趣的很容，这个比较严谨的协议有一个特点：<strong>如果所有人都按照这个协议来办事，我们可以永任何形式的东西来代替人民币了</strong>，换句话说，就是我根本不关心你在账本上添加的新行的交易内容是什么，可以是任何东西</p>
<p>利用这个提出需求再解决问题的过程，强化一个<strong>认知</strong>：<strong>货币 = 交易记录（账本），即货币的本质是交易记录</strong>，在这背后，有一个前提是，货币的另一个本质是一种<strong>共识</strong>，我们都信任的它有价值的共识</p>
<h2 id="第二个用户需求：账本放在哪里？"><a href="#第二个用户需求：账本放在哪里？" class="headerlink" title="第二个用户需求：账本放在哪里？"></a>第二个用户需求：账本放在哪里？</h2><p>传统的（现在的）解决方案当时是，使用中心代理-<strong>银行</strong>，来存放账本</p>
<p>既然是第二个用户需求，那肯定就是因为现在的解决方案大家都<strong>不满意</strong></p>
<h3 id="核心需求：去中心化"><a href="#核心需求：去中心化" class="headerlink" title="核心需求：去中心化"></a>核心需求：去中心化</h3><p>中心化的痛点大致可以说几点</p>
<ul>
<li>银行<strong>效率低下</strong>，一笔跨国转账的等待时间较长</li>
<li><strong>胖银行金融体系</strong>因部分准备金制度等等方便的规则，能抬升杠杆，产生金融泡沫，进一步诱发金融危机</li>
<li><strong>私有财产神圣不可侵犯</strong>是精英与平民，剥削与被剥削者几个世纪以来讨论的核心</li>
</ul>
<p>当然还有很多没有提到，总之，是一种一直饱受诟病的清算方式，此时，中本聪在2009年横空出世，他提出了一种全新的<strong>清算方法</strong>，并且真正解决的信用的问题！接下来就是真正的一步一步的发明比特币的过程了</p>
<h3 id="如何实现分布记账（去中心化）"><a href="#如何实现分布记账（去中心化）" class="headerlink" title="如何实现分布记账（去中心化）"></a>如何实现分布记账（去中心化）</h3><p>为了去中心化，我们可以反其道而行之：每个用户保存账本，分布记账。用户产生一笔交易就讲这笔交易广播到到网络上所有的节点上，这样不就完美的去中心化了？</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="广播模式分布式账本示意图" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p>只要是明眼人都能发现，太天真的，这个方法行不通。可以，行不通，那就把行不通的原因总结出来</p>
<blockquote>
<p>遇到问题，总结不可行的原因，寻找解决方案。这是整个人类不断前进的核心最小单位</p>
</blockquote>
<h4 id="问题核心"><a href="#问题核心" class="headerlink" title="问题核心"></a>问题核心</h4><font color="FF0000">如何让所有人都<strong>同意这个新账本</strong>？如何<strong>保持这些账本同步</strong>？有一笔交易发生时，如何让其他人<strong>都听到并相信</strong>这一笔交易呢？</font>

<p>这些问题才是真正的核心：<strong>是否能在协议（办法，规则）中添加几行，找到办法，来决定是否接受交易，并确定交易顺序，使你可以放心的相信，世界上遵守同一协议的所有人手上的账本都和你的一模一样呢？</strong>（问题描述值得品读，只有抽象出问题才能更好的去寻找解决方案）</p>
<h4 id="☆解决方案"><a href="#☆解决方案" class="headerlink" title="☆解决方案"></a>☆解决方案</h4><p>解决的思路是：哪个账本的<strong>计算工作量大</strong>，就信任哪个账本。换个角度来说是<strong>让交易欺诈和账本不一的情形的计算力成本高到不能接受甚至完全不可信</strong></p>
<h5 id="1、密码学：哈希函数"><a href="#1、密码学：哈希函数" class="headerlink" title="1、密码学：哈希函数"></a>1、密码学：哈希函数</h5><p>哈希函数，<strong>输入</strong>可以是任意信息或者文件，<strong>输出</strong>是固定长度的比特串，例如256bit的1/0串，这个输出叫做这个信息的<strong>“哈希值”或者“摘要”（digest）</strong>。比如SHA256就是一个哈希函数</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="密码哈希函数的特点" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p>密码哈希函数有几个特点</p>
<ul>
<li>特点是<strong>输入值稍微变化后，结果就会有很大的不同，完全无法预测不同输入间的规律</strong></li>
<li><strong>逆向计算</strong>不可行，只能使用试错法（穷举法），解空间 $2^256$ </li>
</ul>
<p><img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/30zero.gi" alt="基于SHA256函数的工作量证明直观表现图"></p>
<p>在每一个账本后添加一个<strong>特殊数字</strong>，对整个列表使用SHA256，我们要求这个<strong>特殊数字</strong>可以使得输出值的开头有<strong>30个零</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="寻找能使得输出前30位为0的特殊数字" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p>根据之前说过SHA256的性质：输入变化输出不可预测，找到这个特殊数字唯一的办法就是穷举。换言之，你很容易就证明了他们<strong>进行了海量的计算</strong>。而这个<strong>特殊数字就叫做工作量证明</strong>（proof of work）</p>
<p>这就意味着，所有的工作量证明就对应了交易列表，如果你修改了一个交易，哪怕只有一点点，就会完全改变哈希值，就得重做工作量证明</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="修改后的重新计算" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<h5 id="2、区块链-信用的共识的基石"><a href="#2、区块链-信用的共识的基石" class="headerlink" title="2、区块链 - 信用的共识的基石"></a>2、区块链 - 信用的共识的基石</h5><p>每一个小账本被称为区块，<strong>每一个不同的区块链协议（产生不同的加密货币）</strong>都会规定每一个区块所能包含的<strong>交易数量</strong>（1M or 2M it’s a question，当年中本聪谜一般的通过一次Clear up标记的Commit把相当重要的区块容量从32M调整为1M的年度大戏，关于区块容量也是一个值得讨论的问题），现在<strong>比特币</strong>每个区块的转账信息大约在2400笔左右    </p>
<p><strong>账本组成区块，区块构成链表，区块的头包含前一块的哈希值，这就是区块链</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="区块链的诞生" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p>如此一来，任何人就不能随意修改其中的内容，或者交换顺序。如果你这么做，意味着<strong>你需要重新计算所有的特殊数字</strong>，这从概率上来说，是不可能的</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="区块链无法被修改" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p><strong>允许世界上的每一个人建造区块</strong>。每一个新建区块的人（找到了这个特殊数字 - SHA256值有40个零）都能获得奖励，对于<strong>新建区块的这部分人（矿工）</strong>来说，以下几点需要注意</p>
<ul>
<li>没有发送者信息，不需要签名</li>
<li>每一个新区块都会给<strong>整个币种增加新的虚拟（加密）货币</strong></li>
<li>新建区块的过程又被称为“挖矿”：需要大量工作量并且可以向整个经济体注入新的货币</li>
<li>挖矿的工作是：<strong>接受交易信息，建造区块，把区块广播出去，然后得到新的钱作为奖励</strong></li>
<li>对每个矿工来说，每个区块就像一个<strong>小彩票</strong>，所有人都在拼命快速猜数字，直到有一个幸运儿找到了一个<strong>特殊数字</strong>，<strong>使得整个区块的哈希值开头有许多个零，就能得到奖励</strong>。我记得有一个知乎答主给了一个形象的比喻，区块链就像一个拥有貌美如花女儿（区块）的国王，有很多的青年翘首以盼，而国王的方法是<strong>出了一道很难得题目</strong>让所有的青年计算（学习改变人生），谁算的快（在计算哈希值过程也可能是运气好）就能抱得美人归</li>
<li><strong>对于想用这个系统来收付款的用户来说，他们不需要收听所有的交易，而只要收听矿工们广播出来的区块，然后更新到自己保存的区块链中就可以了</strong></li>
</ul>
<h5 id="3、51-算力攻击问题"><a href="#3、51-算力攻击问题" class="headerlink" title="3、51%算力攻击问题"></a>3、51%算力攻击问题</h5><p>这里有一个小漏洞，因为网络的延迟或者有人在篡改区块链等因素，你作为一个收听网络广播的用户，如果同时接受到两条不同的区块链怎么办？其中的交易信息发生了冲突</p>
<blockquote>
<p>注：区块链本身就是最终的大账本，发生交易的唯一方法就是把你的交易加入到大账本上。具体来说，就是让矿工把你的交易记录加入它新挖到的区块中，并把这个区块链接到区块链上，链接的纽带，当然就是工作量证明</p>
</blockquote>
<p>对于上面问题，用户的解决方案也比较简单：即，<strong>只保留最长的，也就是包含的工作量最大的那一条</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="用户保留最长的区块链" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p>这里有一个Trick，<strong>即所谓信任工作量最大不仅仅是出【一道难题】，还通过等待多个区块的产生引入世界上所有矿工之间的博弈</strong>（吃瓜群众，坐看大戏，谁厉害我选谁，你们尽管斗）</p>
<p>个人观点：区块链的Idea最核心的创新就是从技术上把<strong>信任和贪婪画了等号</strong>。<font color="“FF0000”">因为贪婪</font>（希望去竞争建立区块的建立和交易费）<font color="“FF0000”">所以信任</font>（全网算力越大，用户越放心），这句话甚至带上了些许哲学和传奇的色彩</p>
<p>对于用户来说，是这样一种情景</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="如何更新本地区块链" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p>其中的原因是，你可以假设Alice希望篡改一个交易信息，那么就意味着Alice需要不断的通过计算维护这个区块链了。<strong>也就是说每一次有新的区块链产生，Alice都需要不断的抢到这个彩票</strong>，理论上来说，他至少必须拥有全网51%以上的算力才能做到这一点，更多的，<strong>随着用户等待区块的增加，这个难度，幂次上升</strong>，在7-8个区块链产生后，概率上来讲，就是<strong>绝对信任</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="无穷大的篡改成本" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure>
<p>此时</p>
<ul>
<li><p>我们用<strong>数字签名</strong>保证了不能伪造交易记录</p>
</li>
<li><p>用<strong>区块链以及一些相应的规则</strong>保证了不能篡改其中的信息</p>
</li>
</ul>
<p>这两点，就完成了：<font color="FF0000"><strong>证明区块链的每一条交易记录都是可信的这一终极目标</strong></font></p>
<h3 id="总结-系统可行性分析"><a href="#总结-系统可行性分析" class="headerlink" title="总结 - 系统可行性分析"></a>总结 - 系统可行性分析</h3><p>只需要思考，<strong>我们如何才能在这个系统下骗人呢</strong>？</p>
<ul>
<li>如果你想篡改一笔不存在的交易记录，那么你必须比所有人都算的快，赢得这个彩票</li>
<li>但<strong>所有用户</strong>会继续收听其他矿工的广播</li>
<li>所以为了让所有用户继续相信这个伪造的区块</li>
<li>你必须投入自己所有的工作量，不断给<strong>篡改后的区块链分叉</strong>增添新的区块</li>
<li><strong>记住：根据协议，所有用户会一直信任他所知道的最长的链</strong></li>
<li>是的，你不可能<strong>持续的竞争过世界上所有的矿工</strong></li>
<li>注意，作为一个用户，你不能立马相信你所听到的最新区块，而是应该等待多几个区块被创建过后，再确认这的确是世界所有人都在使用的区块链</li>
</ul>
<h2 id="发明过程中的关键点"><a href="#发明过程中的关键点" class="headerlink" title="发明过程中的关键点"></a>发明过程中的关键点</h2><ul>
<li>电子签名 Digital Signatures</li>
<li>公共账本就是货币 The Ledger is the currency</li>
<li>去中心化 Decentralize</li>
<li>工作量证明 Proof of work</li>
<li>区块链 Block Chain</li>
</ul>
<h1 id="比特币技术"><a href="#比特币技术" class="headerlink" title="比特币技术"></a>比特币技术</h1><p>到这里，已经发明了比特币，解决了去中心化的信任这一难题。只对比特币和区块链是什么这个问题的读者，希望大家可以在我的叙述中解决一些困惑，新技术，新点子，要拥抱它，使用它，<strong>必须先了解它</strong>。</p>
<p>我们知道区块链中记载的实体，对于比特币（加密货币）来说就是<strong>转账记录</strong>。但是，一个概念真正的跑起来，有甚多技术上，协议上的细节是需要追根问底的</p>
<p>接下里的部分主要探讨一些比特币具体实现方面的细节，如网络节点构成，比特币的计算难度系数，比特币总量的由来，比特币的缺陷等</p>
<h2 id="比特币网络节点的构成"><a href="#比特币网络节点的构成" class="headerlink" title="比特币网络节点的构成"></a>比特币网络节点的构成</h2><p>比特币网络是一种点对点的数字现金系统，IP网络节点中每台机器都彼此对等，P2P网络不存在任何服务端、层级关系或者中心化服务。</p>
<h3 id="节点类型与分工"><a href="#节点类型与分工" class="headerlink" title="节点类型与分工"></a>节点类型与分工</h3><div align="center"><img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/AllFunctionNode.svg" alt="全功能节点" width="250"></div>

<p>一个全功能节点包含上述4个模块，它可以独立自主的验证所有的交易，每个节点都有网络路由节点模块，<strong>都参与验证并传播交易与区块信息</strong></p>
<p>拥有全部四个模块被称之为<strong>核心客户端（Bitcoin Core）</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">图示</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="//charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/一文弄懂区块链" alt="SoloMiner" title="-">
                </div>
                <div class="image-caption">-</div>
            </figure></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>除了<a href="https://www.zhihu.com/question/22076666" target="_blank" rel="external">江卓尔 知乎回答</a>等优秀的知乎答主的回答，附录上<strong>内容</strong>作为参考文献：</p>
<ul>
<li>文章中引用多个Gif的出处：<a href="https://www.bilibili.com/video/av12465079/" target="_blank" rel="external">比特币原理-3B1B</a>，这也是让我真正弄懂比特币的一个视频，不得不说，外国人在让门外汉入行这件事上，领先了很多</li>
<li>一篇技术性极强的文章，包含代码和实现，以及很多数据结构，具体实现方式的细节，如果想成为加密货币（区块链）开发者，这本书5星推荐：<a href="http://8btc.com/topic-mastering-bitcoin.html" target="_blank" rel="external">精通比特币</a></li>
<li><a href="http://v.youku.com/v_show/id_XMjc3MDU4MDY2OA==.html?spm=a2h1n.8261147.reload_201705.1~3!2~5~A" target="_blank" rel="external">鸿观125期</a> 需要优酷会员</li>
<li>只能膜拜之的创世区块作者的论文：<a href="http://www.8btc.com/wiki/bitcoin-a-peer-to-peer-electronic-cash-system" target="_blank" rel="external">比特币白皮书</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-09-24T21:56:59.000Z" itemprop="dateUpdated">2017-09-24 14:56:59</time>
</span><br>


        
    </div>
    <footer>
        <a href="https://charlesliuyx.github.io">
            <img src="/img/avatar.jpg" alt="Nimonic">
            Nimonic
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BTcoin/">BTcoin</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BlockChain/">BlockChain</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/&title=《一文弄懂区块链 - 以比特币为例》 — 尼孟尼克 Blog&pic=https://charlesliuyx.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/&title=《一文弄懂区块链 - 以比特币为例》 — 尼孟尼克 Blog&source=毕业于北京邮电大学电子工程系 SJSU CE Master Machine Learning Bay" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《一文弄懂区块链 - 以比特币为例》 — 尼孟尼克 Blog&url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/&via=https://charlesliuyx.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2017/07/29/PDF复制粘贴去除多余的回车符/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">PDF复制粘贴去除多余的回车符</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/07/01/LeetcodeNote/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">LeetcodeNote</h4>
      </a>
    </div>
  
</nav>



    













<section class="comments" id="comments">
    <div id="gitment_thread"></div>
    <link rel="stylesheet" href="//unpkg.com/gitment/style/default.css">
    <script src="//unpkg.com/gitment/dist/gitment.browser.js"></script>
    <script>
        var gitment = new Gitment({
            owner: 'CharlesLiuyx',
            repo: 'BlogComment',
            oauth: {
                client_id: '2c1daf79f5a857cab513',
                client_secret: 'd3ec6eb5ef61ef24dbfee8ee9645b70444292bcc',
            },
        })
        gitment.render('comments')
    </script>
</section>




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        您的鼓励是我前进的力量
        <i class="icon icon-quote-right"></i>
    </h3>
    <ul class="reward-items">
        
        <li>
            <img src="/img/wechat.jpg" title="微信打赏二维码" alt="微信打赏二维码">
            <p>微信</p>
        </li>
        

        
        <li>
            <img src="/img/alipay.jpg" title="支付宝打赏二维码" alt="支付宝打赏二维码">
            <p>支付宝</p>
        </li>
        
    </ul>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>Nimonic &copy; 2017</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/&title=《一文弄懂区块链 - 以比特币为例》 — 尼孟尼克 Blog&pic=https://charlesliuyx.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/&title=《一文弄懂区块链 - 以比特币为例》 — 尼孟尼克 Blog&source=毕业于北京邮电大学电子工程系 SJSU CE Master Machine Learning Bay" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《一文弄懂区块链 - 以比特币为例》 — 尼孟尼克 Blog&url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/&via=https://charlesliuyx.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://charlesliuyx.github.io/2017/07/26/一文弄懂区块链 - 以比特币为例/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADLUlEQVR42u3aQXLjMAwEwPz/095Lblk7M4BcZTGtkyuRRTZ0gAHw6yu+Hk+uZ3f+/PzzOe39z777bCcXXNjY2Ng3YT9eXsk9G97rTc8CHb0kbGxs7OPYeSpK0kyewJIwvb4nCSI2NjY2dpIk2hJis/U80NjY2NjY7Ubz/+bByptK2NjY2H+ZnaecWdOnLWzyv7y9l4aNjY398ex8Kvr5n98y38bGxsb+YPajvPIlr73/qgLm+7vY2NjYB7HzBLA5NJOXE5tDOfX+sbGxsY9gt0dn8sVmDZ28mdU2xb6SHhU2Njb2zdl5yZGkpVlJ0yaw4egCGxsb+yB2Umzk49scUDeARjuMUiA2Njb2QezZALVNPFeF7y2jX2xsbOybs5P0sBm7tsi2aBkessTGxsa+OTsfxO6D1aaZzWGgXxpP2NjY2IeyZ8vnY+A8+W0Knii42NjY2AexZ/i82MhLiH2TqF0LGxsb+2x220ia9W3awL1+Qj3oxcbGxj6I3f70z0OWt4deh2M/MI5CgI2NjX1DdttqT7aSYJK2VB6gVTsJGxsb+1B2/tO/LRX2w+N8xaerY2NjYx/Ebr92VWu+TYftsLloKmFjY2PfnP3uBTbt+9lIOHqF2NjY2Aexk+bOpg2UB6s9uPOIr6f7xMbGxj6CXcQmxlw1ZmhfSdGQwsbGxj6O3VLbxlNS5CTdns1r+E/GxsbGxj6O3R6ybIcK7xsD5IMHbGxs7PPYeQtpk6LaY0DtPbMAYWNjY5/B3o9gNy2h5AlJos0TYf04bGxs7I9nt0XF7HBMXjbM2lubQ0XY2NjYZ7DbtNEmpPae9gl5ih2e+sTGxsa+OXs/iN1sbjNO+OVObGxs7OPYsxZ8W06049jXZUk+nH56cAcbGxv75uxHeeWJarbRtoU0e23Y2NjYJ7Fnm5j9np8NcfeD51VQsLGxsW/C3gxrryot2lWS0NcVGDY2NvbN2cNxabDwOwa9F9QU2NjY2H+Y3R7KbEuLPK2ukh82NjY29ii9bdpM+yNB2NjY2GezN0dw8uJkNmzOG1LFQBobGxv7IHY7ZC1a8PEIYR/QzdACGxsb+7bsfynfNQA7YBwRAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };



</script>

<script src="/js/main.min.js?v=1.6.7"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.7" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '在看什么呢';
            clearTimeout(titleTime);
        } else {
            document.title = '欢迎回来';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



</body>
</html>
